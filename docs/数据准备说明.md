# 数据文件准备说明

## 📋 需要准备的文件

在运行工具之前，您需要准备以下两个文件并放在项目目录中：

### 1. wos.txt
**来源**：Web of Science 数据库

**导出步骤**：
1. 在 Web of Science 完成文献检索
2. 选择要导出的文献（最多500条/次）
3. 点击"导出" → "其他文件格式"
4. 文件格式选择：**纯文本**
5. 记录内容选择：**全记录与引用的参考文献**
6. 保存文件，重命名为 `wos.txt`

**文件格式示例**：
```
FN Clarivate Analytics Web of Science
VR 1.0
PT J
AU Smith, J
   Johnson, A
TI Example Article Title
SO JOURNAL NAME
...
ER

PT J
...
```

### 2. scopus.csv
**来源**：Scopus 数据库

**导出步骤**：
1. 在 Scopus 完成文献检索
2. 选择要导出的文献（最多2000条/次）
3. 点击"Export" → "CSV"
4. 导出范围选择：**All available information** （所有可用信息）
5. 保存文件，重命名为 `scopus.csv`

**重要提示**：
- ⚠️ 必须选择"All available information"（所有字段）
- ✅ 确保包含：Authors, Title, Abstract, Keywords, References, Affiliations等字段

**文件格式示例**：
```csv
Authors,Title,Year,Source title,Volume,Issue,...
"Smith, John; Johnson, Alice","Example Title",2024,"Journal Name",10,5,...
```

---

## 📂 文件放置位置

将准备好的文件放在项目根目录：

```
scopus-wos-tools/
├── wos.txt                        ← 放在这里
├── scopus.csv                     ← 放在这里
├── scopus_to_wos_converter.py
├── merge_deduplicate.py
├── run_all.sh
└── README.md
```

---

## ✅ 验证文件

### 检查 wos.txt
```bash
# 查看前几行
head -10 wos.txt
```
应该看到：
- 第1行：`FN Clarivate Analytics Web of Science`
- 第2行：`VR 1.0`
- 包含 `PT J`、`AU`、`TI` 等标签

### 检查 scopus.csv
```bash
# 查看前几行
head -5 scopus.csv
```
应该看到：
- 第1行是字段名（Authors, Title, Year, ...）
- 后续行是文献数据

---

## 🚀 运行工具

文件准备好后，运行：
```bash
./run_all.sh
```

---

## 📝 常见问题

### Q: 我只有Scopus数据，没有WOS数据可以用吗？
A: 可以！单独运行转换脚本即可：
```bash
python3 scopus_to_wos_converter.py scopus.csv output.txt
```

### Q: 我只有WOS数据，没有Scopus数据怎么办？
A: WOS数据已经是标准格式，可以直接导入分析工具，不需要本工具转换。

### Q: Scopus导出时没有选择"所有字段"怎么办？
A: 请重新导出，选择"All available information"。缺少字段会影响转换质量。

### Q: 文件太大怎么办？
A:
- WOS单次最多500条，可以分批导出
- Scopus单次最多2000条，可以分批导出
- 转换后可以手动合并多个文件

### Q: 导出的文件名不是wos.txt或scopus.csv怎么办？
A: 两种方法：
1. 重命名文件为 `wos.txt` 和 `scopus.csv`
2. 使用命令行参数指定文件名：
   ```bash
   python3 scopus_to_wos_converter.py your_scopus.csv output.txt
   python3 merge_deduplicate.py your_wos.txt converted.txt merged.txt
   ```

---

## 🔗 相关资源

- [Web of Science导出指南](https://clarivate.com/webofsciencegroup/support/wos/)
- [Scopus导出指南](https://service.elsevier.com/app/answers/detail/a_id/28268/)

---

**准备好数据文件后，您就可以开始使用工具了！** 🎉
